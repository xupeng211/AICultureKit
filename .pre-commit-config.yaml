repos:
  - repo: https://github.com/psf/black
    rev: 24.4.2
    hooks: [{ id: black }]

  - repo: https://github.com/charliermarsh/ruff-pre-commit
    rev: v0.6.4
    hooks:
      - id: ruff
        args: [--fix]
        exclude: ^(aiculture/templates/|templates/|examples/|scaffolds/).*
      - id: ruff-format
        exclude: ^(aiculture/templates/|templates/|examples/|scaffolds/).*

  - repo: https://github.com/PyCQA/isort
    rev: 5.13.2
    hooks: [{ id: isort }]

  - repo: local
    hooks:
      - id: bandit-warn
        name: bandit warn (non-blocking)
        entry: python tools/hooks/run_bandit_warn.py
        language: system
        pass_filenames: false
        stages: [pre-commit]

  - repo: https://github.com/Yelp/detect-secrets
    rev: v1.5.0
    hooks:
      - id: detect-secrets
        args: [--baseline, .secrets.baseline]
        stages: [pre-commit]

  # 软性 commit-msg 规范提醒（不阻塞）
  - repo: local
    hooks:
      - id: commit-msg-warn
        name: commit message conventional warn
        entry: python tools/hooks/commit_msg_warn.py
        language: system
        stages: [commit-msg]
        pass_filenames: true
